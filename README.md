# Projet Pentest-tools
## Introduction

Ce repo contient les fichiers nécessaires à l'évaluation du projet de création de "boîte à outils" orientée pentest. L'objectif est de simplifier l'identification des étapes d'un pentest, fournir des ressources pour faciliter l'utilisation d'outils et enfin créer un script qui réalise une opération offensive en enchaînant des outils de pentest.

## Partie 1 : Tableau des risques et types d'attaque

Ce tableur au format Excel sert de matrice d'identification des risques et des attaques. Le tableur est découpé en plusieurs feuilles :

- RISQUES_BIENS : Liste l'ensemble des biens essentiels reliés aux risques CID.
- RISQUES_ATTAQUES : Relie les risques identifiés aux scénarios d'attaques classés par couche du modèle OSI.
- ATTAQUES_OUTILS : Relie les scénarios d'attaques à un outil utilisable pour réaliser l'attaque.
- BASE_INFORMATIONS : Base générale qui relie les biens aux risques et aux scénarios d'attaque.

## Partie 2 : Cheatsheets

Les cheatsheets contiennent des instructions qui facilitent l'utilisation d'outils automatisés. L'objectif est de centraliser les commandes les plus utilisées des outils afin de gagner en rapidité lors de leur utilisation. Ainsi l'utilisateur n'a pas à chercher de source externes pour utiliser l'outil ce qui assure un gain de temps et de fiabilité.

## Partie 3 : Script d'énumération (Tiny_SSH_intruder)

Tiny_SSH_intruder est un script rédigé en Bash qui effectue les étapes d'énumération d'un hôte qui héberge un serveur SSH avec une sécurité faible. L'objectif de ce script est donc d'identifier la présence d'SSH sur un hôte, identifier le couple nom d'utilisateur : mot de passe à utiliser pour ouvrir une session SSH, envoyer un script d'énumération et l'exécuter afin d'analyser la configuration du système de l'hôte. Le script affichera la sortie et l'enregistrera dans un fichier texte nommé 'scan.txt'.

### Prérequis :

- Nmap installé
- Hydra installé
- linpeas.sh téléchargé et exécutable
- package apt "sshpass" installé
- Exécution du script sur un système Linux (recommandé)

### Utilisation :

```
sudo ./tiny_ssh_intruder.sh target_adress userwordlist_path passwordlist_path linpeas_path
```

### Exemple :

![](https://github.com/Robin8154/Pentest-tools/blob/main/assets/Capture%20d%E2%80%99%C3%A9cran%202024-03-06%20095621.png)

Tiny_SSH_intruder se base sur trois outils différents :

- Nmap :
  	![](https://github.com/Robin8154/Pentest-tools/blob/main/assets/nmap-logo-256x256.png)
	Lien : https://nmap.org/
	Nmap est un outil d'énumération qui permet d'identifier un hôte notamment les services qu'il héberge. Nmap sera donc le premier outil exécuté, l'objectif sera d'identifier un service SSH sur le port 22, si le port est ouvert, les informations seront envoyés au prochain outil.

- Hydra :
  	![](https://github.com/Robin8154/Pentest-tools/blob/main/assets/0_FnaEfdSEYAHebGcM.png)
	Lien : https://github.com/vanhauser-thc/thc-hydra
	Hydra est un outil orienté brute-force, il utilise des wordlists pour déterminer quel identifiant est valide pour accéder à la session d'un utilisateur. L'outil sera donc préconfiguré pour attaquer une session SSH à l'aide des wordlists fournies. Une fois les identifiants trouvés, une session SSH sera ouverte.

- Linpeas :
  	![](https://github.com/Robin8154/Pentest-tools/blob/main/assets/20454080-42d8-11ea-9076-57d151462f64.png)
	Lien : https://github.com/carlospolop/PEASS-ng/releases/tag/20240303-ce06043c
	Linpeas.sh est un script d'énumération de système. Cet outil va analyser toute la configuration du système et identifier les éléments vulnérables. Après avoir ouvert une session SSH, le script enverra une copie de linpeas.sh à partir du chemin fourni, linpeas.sh sera ensuite exécuté et la sortie sera affichée sur le terminal et enregistrée dans un fichier texte. Une fois l'opération terminée la session SSH sera fermée et le script se terminera.

### Limitations :

- Tiny_SSH_intruder ne reconnaît pas le système d'exploitation de la cible, l'utilisateur devra donc s'assurer au préalable que la cible fonctionne sur un système Linux.
- Le port utilisé pour lancer le scan est codé en dur, sa valeur par défaut est 22.
- Les identifiants trouvés par Hydra ne sont pas enregistrés.
- Les options des outils utilisées par Tiny_SSH_intruder ne sont pas personnalisables au moment de l'exécution du script.
- Le script n'effectue aucune gestion d'erreur.
